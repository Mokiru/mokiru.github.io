---
title: JVM垃圾收集器
date: 2025-08-16 10:00:00 +0800
categories: [Java, JVM]
tags: [study]     # TAG names should always be lowercase
author: momochi
description: 介绍JVM的几种常见垃圾收集器
comments: true # 评论
pin: false # top 
math: true
toc: true
content: true
---

## 经典垃圾收集器

Java虚拟机规范中对垃圾收集器应该如何实现并没有做出任何规定，因此不同的厂商、不同版本的虚拟机所包含的垃圾收集器都可能会有很大差别，不同的虚拟机一般也都会提供各种参数供用户根据自己的应用特点和要求组合出各个内存分代所使用的收集器。

下图展示七种作用于不同分代的收集器，如果两个收集器之间存在连线，就说明它们可以搭配使用，图中收集器所处的区域，则表示它是属于新生代收集器抑或是老年代收集器。

![alt text](/assets/img/jvm/HotSpot虚拟机垃圾收集器.png)

没有“万能”的收集器，只能对具体应用选择最适合的收集器。

### Serial收集器

Serial收集器是最基础、历史最悠久的收集器，曾经(JDK1.3.1之前)是HotSpot虚拟机新生代收集器的唯一选择。从名字就能猜到，这个收集器是一个单线程工作的收集器，但它的“单线程”的意义并不仅仅是说明它只会使用一个处理器或一条收集线程去完成垃圾收集工作，更重要的是强调在它进行垃圾收集时，必须暂停其他所有工作线程，直到它收集结束。“Stop The World”这项工作是由虚拟机在后台自动发起和自动完成的，在用户不可知、不可控的情况下把用户的正常工作的线程全部停掉，这对很多应用来说都是不能接受的。下图为Serial/Serial Old收集器运行过程：

![alt text](/assets/img/jvm/Serial运行示意图.png)

从Serial收集器到Parallel收集器，再到Concurrent Mark Sweep(CMS)和Garbage First(G1)收集器，Shenandoah和ZGC等，越来越优秀、复杂的垃圾收集器不断涌现，用户线程的停顿时间在持续缩短，但是仍然没有办法彻底消除。